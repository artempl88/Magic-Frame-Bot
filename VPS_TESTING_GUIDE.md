# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ VPS –¥–ª—è –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø Magic Frame Bot

## üí∞ **–õ—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã VPS –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### ü•á **Hetzner Cloud CX21 (–†–ï–ö–û–ú–ï–ù–î–£–Æ):**
```
üíæ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 2 CPU, 4GB RAM, 40GB SSD
üí∞ –¶–µ–Ω–∞: ‚Ç¨4.90/–º–µ—Å—è—Ü (~‚ÇΩ490)
üåç –õ–æ–∫–∞—Ü–∏—è: –•–µ–ª—å—Å–∏–Ω–∫–∏/–§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç  
üì∂ –°–µ—Ç—å: 20TB —Ç—Ä–∞—Ñ–∏–∫–∞
‚ö° –ü–∏–Ω–≥ –¥–æ –†–§: 40-60ms
```
**–ü–æ—á–µ–º—É –ª—É—á—à–∏–π:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø—Ä–∏ –æ—Ç–ª–∏—á–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ
- ‚úÖ NVMe SSD (–±—ã—Å—Ç—Ä—ã–µ –¥–∏—Å–∫–∏)
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å 99.9%

### ü•à **DigitalOcean Basic (—Å –±–æ–Ω—É—Å–æ–º):**
```
üíæ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 2 CPU, 4GB RAM, 80GB SSD
üí∞ –¶–µ–Ω–∞: $24/–º–µ—Å—è—Ü (–ù–û $200 –∫—Ä–µ–¥–∏—Ç–æ–≤!)
üåç –õ–æ–∫–∞—Ü–∏—è: –§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç/–ê–º—Å—Ç–µ—Ä–¥–∞–º
üì∂ –°–µ—Ç—å: 4TB —Ç—Ä–∞—Ñ–∏–∫–∞
‚ö° –ü–∏–Ω–≥ –¥–æ –†–§: 50-80ms
```
**–ü–ª—é—Å—ã:**
- ‚úÖ **$200 –±–æ–Ω—É—Å** –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π = 8+ –º–µ—Å—è—Ü–µ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ!
- ‚úÖ –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (80GB)
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### ü•â **TimeWeb Cloud (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π):**
```
üíæ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 2 CPU, 4GB RAM, 40GB SSD
üí∞ –¶–µ–Ω–∞: ‚ÇΩ1,200/–º–µ—Å—è—Ü
üåç –õ–æ–∫–∞—Ü–∏—è: –ú–æ—Å–∫–≤–∞/–°–ü–±
üì∂ –°–µ—Ç—å: –±–µ–∑–ª–∏–º–∏—Ç
‚ö° –ü–∏–Ω–≥: 5-15ms –ø–æ –†–§
```
**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –∫–∞—Ä—Ç—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –ø–∏–Ω–≥ –ø–æ –†–æ—Å—Å–∏–∏

---

## ‚öôÔ∏è **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### üìä **–£—Ä–µ–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
```yaml
–í–∫–ª—é—á–µ–Ω–æ:
‚úÖ Telegram Bot       (~1.5GB RAM)
‚úÖ PostgreSQL         (~1GB RAM, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)  
‚úÖ Redis              (~128MB, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)

–û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏:
‚ùå Celery Worker      (—ç–∫–æ–Ω–æ–º–∏—è ~1GB RAM)
‚ùå Backup Scheduler   (—ç–∫–æ–Ω–æ–º–∏—è ~0.5GB RAM)
‚ùå Monitoring         (—ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ CPU)
```

### üîß **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:**
```yaml
PostgreSQL:
  memory_limit: 1GB      # –≤–º–µ—Å—Ç–æ 2GB
  connections: 20        # –≤–º–µ—Å—Ç–æ 100

Redis:  
  maxmemory: 128mb       # –≤–º–µ—Å—Ç–æ 256mb
  
Bot:
  generations_per_hour: 20    # –≤–º–µ—Å—Ç–æ 30
  welcome_bonus: 5            # –≤–º–µ—Å—Ç–æ 10
  analytics: disabled         # —ç–∫–æ–Ω–æ–º–∏—è CPU
```

---

## üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### 1Ô∏è‚É£ **–ó–∞–∫–∞–∑–∞—Ç—å VPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º Hetzner):**
```bash
# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—Å—è –Ω–∞ hetzner.com
# –°–æ–∑–¥–∞–µ–º —Å–µ—Ä–≤–µ—Ä CX21 –≤ –•–µ–ª—å—Å–∏–Ω–∫–∏
# –ü–æ–ª—É—á–∞–µ–º IP –∞–¥—Ä–µ—Å
```

### 2Ô∏è‚É£ **–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É:**
```bash
ssh root@YOUR_VPS_IP
```

### 3Ô∏è‚É£ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker:**
```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
curl -fsSL https://get.docker.com | sh

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Compose
apt install docker-compose-plugin -y
```

### 4Ô∏è‚É£ **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Magic Frame Bot:**
```bash
# –°–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/artempl88/Magic-Frame-Bot.git
cd Magic-Frame-Bot

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
cp .env.test .env.client

# ‚ö†Ô∏è –í–ê–ñ–ù–û: –í—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π BOT_TOKEN –≤ .env.client
nano .env.client

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
make test-up
```

### 5Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
make test-status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
make test-logs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook
curl -I https://bot.seedancebot.com/magicframe/health
```

---

## üìä **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ**

### üíæ **–ü–∞–º—è—Ç—å (–∏–∑ 4GB):**
```
–°–∏—Å—Ç–µ–º–∞ Ubuntu:     ~800MB
PostgreSQL:         ~1GB   (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω)
Redis:              ~150MB (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω)  
Magic Frame Bot:    ~1.5GB
–°–≤–æ–±–æ–¥–Ω–æ:           ~550MB (—Ä–µ–∑–µ—Ä–≤)
```

### üíø **–î–∏—Å–∫ (–∏–∑ 40GB):**
```
–°–∏—Å—Ç–µ–º–∞:            ~10GB
Docker images:      ~8GB
PostgreSQL data:    ~2-5GB
Logs:               ~1GB
Backups:            –æ—Ç–∫–ª—é—á–µ–Ω—ã
–°–≤–æ–±–æ–¥–Ω–æ:           ~15-20GB
```

### ‚ö° **CPU (2 —è–¥—Ä–∞):**
```
–°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞:   ~30-50%
–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:      ~70-80%
–í –ø—Ä–æ—Å—Ç–æ–µ:          ~10-20%
```

---

## üõ†Ô∏è **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

```bash
# –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞
make test-up        # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç
make test-down      # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
make test-restart   # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥  
make test-status    # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
make test-logs      # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

# –û—á–∏—Å—Ç–∫–∞
make test-clean     # –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```

---

## üéØ **–ß—Ç–æ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**

### ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ü§ñ Telegram –±–æ—Ç –∏ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
- üé¨ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ WaveSpeed AI
- üí≥ Telegram Stars –æ–ø–ª–∞—Ç–∞
- üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìä –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üîÑ FSM (—Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

### ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ:**
- üé• –ì–µ–Ω–µ—Ä–∞—Ü–∏–π –≤ —á–∞—Å: 20 –≤–º–µ—Å—Ç–æ 30
- üéÅ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å: 5 –≤–º–µ—Å—Ç–æ 10
- üíæ –ö–µ—à –≤—Ä–µ–º—è: 30 –º–∏–Ω –≤–º–µ—Å—Ç–æ 1 —á–∞—Å–∞

### ‚ùå **–û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏:**
- üìà –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- üîÑ –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (Celery)
- üíæ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
- üéüÔ∏è –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã

---

## üí° **–°–æ–≤–µ—Ç—ã –ø–æ —ç–∫–æ–Ω–æ–º–∏–∏ –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**

### üî• **–ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–µ—Å—è—Ü—ã:**
1. **DigitalOcean:** $200 –∫—Ä–µ–¥–∏—Ç–æ–≤ = 8+ –º–µ—Å—è—Ü–µ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
2. **Vultr:** $100 –∫—Ä–µ–¥–∏—Ç–æ–≤ = 4+ –º–µ—Å—è—Ü–∞
3. **Linode:** $100 –∫—Ä–µ–¥–∏—Ç–æ–≤ = 4+ –º–µ—Å—è—Ü–∞

### üí∞ **–ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make test-down` –∫–æ–≥–¥–∞ –Ω–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–æ—á—å
- –£–¥–∞–ª—è–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

### üìÖ **–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
–î–µ–Ω—å 1-2:   –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –¥–µ–ø–ª–æ–π
–î–µ–Ω—å 3-5:   –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –±–æ—Ç–∞  
–î–µ–Ω—å 6-7:   –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–µ–Ω—å 8-10:  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
–î–µ–Ω—å 11-14: –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```

---

## üÜò **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**

### ‚ùå **–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
docker stats

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
make test-clean
make test-up
```

### ‚ùå **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –¥–∏—Å–∫
df -h
iostat 1

# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
docker system prune -f
```

### ‚ùå **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
make test-logs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook
curl https://bot.seedancebot.com/magicframe/health
```

---

## üéâ **–ì–æ—Ç–æ–≤–æ!**

**–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ:**
- ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –ü–æ–Ω—è—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**üöÄ –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!** 