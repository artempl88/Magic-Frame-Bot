# üßπ –û—á–∏—Å—Ç–∫–∞ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

–£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –ª–∏—à–Ω–∏–µ Docker –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –±–æ—Ç–∞.

## ‚ùå –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏:

### Docker Compose —Ñ–∞–π–ª—ã:
- ‚ùå `docker-compose.yml` - —Å—Ç–∞—Ä—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
- ‚ùå `docker-compose.vps.yml` - —Å—Ç–∞—Ä—ã–π VPS —Ñ–∞–π–ª

### Docker –ø–∞–ø–∫–∞:
- ‚ùå `docker/grafana/` - —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Grafana (–Ω–µ –Ω—É–∂–Ω–∞)
- ‚ùå `docker/nginx/` - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä Nginx (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –±–æ—Ç–∞)
- ‚ùå `docker/postgres/init.sql` - –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚ùå `docker/scripts/backup.sh` - —Å—Ç–∞—Ä—ã–π —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–æ–≤ (–∑–∞–º–µ–Ω–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É)

### Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- ‚ùå `nginx-bot-subdomain.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–¥–æ–º–µ–Ω–∞
- ‚ùå `nginx-site.conf` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∞–π—Ç–∞

### Makefile:
- ‚ùå `Makefile` - –æ—Å–Ω–æ–≤–Ω–æ–π Makefile –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

## ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã:

### Docker —Ñ–∞–π–ª—ã:
- ‚úÖ `docker-compose.simple.yml` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ `docker-compose.client.yml` - –¥–ª—è VPS —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è  
- ‚úÖ `Dockerfile` - –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –±–æ—Ç–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- ‚úÖ `Makefile.client` - –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –±–æ—Ç–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- ‚úÖ `.env` - –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `.env.client` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –±–æ—Ç–∞
- ‚úÖ `.env.example` - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ `.env.vps.example` - –ø—Ä–∏–º–µ—Ä –¥–ª—è VPS

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—á–∏—Å—Ç–∫–∏:

### ‚ùå –£–¥–∞–ª–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- üö´ **Grafana** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∞—à–±–æ—Ä–¥—ã
- üö´ **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ reverse proxy
- üö´ **Prometheus** - —Å–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫
- üö´ **Flower** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Celery
- üö´ **–°—Ç–∞—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** - —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –±—ç–∫–∞–ø—ã

### ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ:
- ü§ñ **Telegram Bot** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
- üóÑÔ∏è **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚ö° **Redis** - –∫–µ—à –∏ —Å–µ—Å—Å–∏–∏  
- üíæ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- üîß **Celery Worker** - —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üì¶ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–æ—Ç:
‚îú‚îÄ‚îÄ Bot (Python/aiogram)
‚îú‚îÄ‚îÄ PostgreSQL (–ë–î)
‚îú‚îÄ‚îÄ Redis (–∫–µ—à)
‚îú‚îÄ‚îÄ Backup Scheduler (–∞–≤—Ç–æ–±—ç–∫–∞–ø—ã)
‚îî‚îÄ‚îÄ Celery Worker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –º–∏–Ω–∏–º—É–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ª–µ–≥—á–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å
2. **–°–∫–æ—Ä–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, –º–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞
4. **–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ** - –ø—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∞—Ç–∞–∫–∏

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make -f Makefile.client up

# –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –±—ç–∫–∞–ø–∞–º–∏  
make -f Makefile.client up-backup

# VPS —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
make -f Makefile.client vps-up

# VPS —Å –±—ç–∫–∞–ø–∞–º–∏
make -f Makefile.client vps-up-backup

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
make -f Makefile.client down

# –õ–æ–≥–∏
make -f Makefile.client logs

# –°–æ—Å—Ç–æ—è–Ω–∏–µ
make -f Makefile.client ps
```

## ‚ú® –ò—Ç–æ–≥:

–ü—Ä–æ–µ–∫—Ç –æ—á–∏—â–µ–Ω –æ—Ç –≤—Å–µ—Ö –ª–∏—à–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –¢–µ–ø–µ—Ä—å —ç—Ç–æ **–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–æ—Ç** —Å:

- ‚úÖ –í—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –±—ç–∫–∞–ø–∞–º–∏  
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
- ‚úÖ –õ–µ–≥–∫–∏–º –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ–º

**–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ 